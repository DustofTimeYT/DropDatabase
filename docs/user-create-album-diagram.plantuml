@startuml
actor Пользователь
participant Система

Пользователь -> Система: Инициирует добавление изображения в альбом
Система --> Пользователь: Открывает диалог выбора альбома

alt Пользователь отменил выбор альбома
    Пользователь -> Система: Отменяет выбор
    Система --> Пользователь: Подтверждает отмену (изображение не сохраняется)
else Пользователь выбирает или создаёт альбом
    alt Создание нового альбома
        Пользователь -> Система: Запрашивает создание нового альбома
        Система -> Система: Создаёт новый альбом
        Система --> Пользователь: Подтверждает создание альбома
    else Выбор существующего альбома
        Пользователь -> Система: Выбирает существующий альбом
    end
    Система -> Система: Проверяет, находится ли изображение уже в альбоме
    alt Изображение уже в альбоме
        Система --> Пользователь: Сообщает «Изображение уже находится в альбоме»
        Система --> Пользователь: Предлагает выбрать другой альбом
    else Изображение не в альбоме
        Система -> Система: Сохраняет изображение в выбранный альбом
        Система --> Пользователь: Подтверждает успешное сохранение
    end
end

@enduml
